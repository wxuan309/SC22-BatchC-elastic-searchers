{"backend_state":"init","connection_file":"/projects/7c08c135-501d-4a5d-8ef1-fb9399dd6cfe/.local/share/jupyter/runtime/kernel-3d0569d0-6b87-46c0-86e7-c849aede2885.json","kernel":"elastic-searchers","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.9.12"}},"trust":true,"type":"settings"}
{"cell_type":"code","exec_count":0,"id":"0a450c","input":"df.replace(to_replace= 'Z', value= 'Premium gasoline', inplace = True)\ndf.replace(to_replace= 'X', value= 'Gasoline' , inplace= True)\ndf.replace(to_replace= 'D', value= 'Diesel' , inplace= True)\ndf.replace(to_replace= 'E', value= 'Ethanol' , inplace= True)\ndf.replace(to_replace= 'N', value= 'Natural gas' , inplace= True)","pos":24,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"22d370","input":"# Check null values","pos":9,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"3b1211","input":"# use .head() .info() and similar functions to get an overview of the data","pos":5,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"728d3a","input":"# handle missing data or convert categorical data into dummy variables","pos":23,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"982e90","input":"","pos":34,"type":"cell"}
{"cell_type":"code","exec_count":0,"id":"b9dced","input":"# create plots for your data to understand the trend of data :D","pos":16,"type":"cell"}
{"cell_type":"code","exec_count":10,"id":"62c026","input":"df.info()","output":{"0":{"name":"stdout","output_type":"stream","text":"<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 7385 entries, 0 to 7384\nData columns (total 12 columns):\n #   Column                            Non-Null Count  Dtype  \n---  ------                            --------------  -----  \n 0   Make                              7385 non-null   object \n 1   Model                             7385 non-null   object \n 2   Vehicle Class                     7385 non-null   object \n 3   Engine Size(L)                    7385 non-null   float64\n 4   Cylinders                         7385 non-null   int64  \n 5   Transmission                      7385 non-null   object \n 6   Fuel Type                         7385 non-null   object \n 7   Fuel Consumption City (L/100 km)  7385 non-null   float64\n 8   Fuel Consumption Hwy (L/100 km)   7385 non-null   float64\n 9   Fuel Consumption Comb (L/100 km)  7385 non-null   float64\n 10  Fuel Consumption Comb (mpg)       7385 non-null   int64  \n 11  CO2 Emissions(g/km)               7385 non-null   int64  \ndtypes: float64(4), int64(3), object(5)\nmemory usage: 692.5+ KB\n"}},"pos":8,"type":"cell"}
{"cell_type":"code","exec_count":11,"id":"723446","input":"df.describe()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Engine Size(L)</th>\n      <th>Cylinders</th>\n      <th>Fuel Consumption City (L/100 km)</th>\n      <th>Fuel Consumption Hwy (L/100 km)</th>\n      <th>Fuel Consumption Comb (L/100 km)</th>\n      <th>Fuel Consumption Comb (mpg)</th>\n      <th>CO2 Emissions(g/km)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>count</th>\n      <td>7385.000000</td>\n      <td>7385.000000</td>\n      <td>7385.000000</td>\n      <td>7385.000000</td>\n      <td>7385.000000</td>\n      <td>7385.000000</td>\n      <td>7385.000000</td>\n    </tr>\n    <tr>\n      <th>mean</th>\n      <td>3.160068</td>\n      <td>5.615030</td>\n      <td>12.556534</td>\n      <td>9.041706</td>\n      <td>10.975071</td>\n      <td>27.481652</td>\n      <td>250.584699</td>\n    </tr>\n    <tr>\n      <th>std</th>\n      <td>1.354170</td>\n      <td>1.828307</td>\n      <td>3.500274</td>\n      <td>2.224456</td>\n      <td>2.892506</td>\n      <td>7.231879</td>\n      <td>58.512679</td>\n    </tr>\n    <tr>\n      <th>min</th>\n      <td>0.900000</td>\n      <td>3.000000</td>\n      <td>4.200000</td>\n      <td>4.000000</td>\n      <td>4.100000</td>\n      <td>11.000000</td>\n      <td>96.000000</td>\n    </tr>\n    <tr>\n      <th>25%</th>\n      <td>2.000000</td>\n      <td>4.000000</td>\n      <td>10.100000</td>\n      <td>7.500000</td>\n      <td>8.900000</td>\n      <td>22.000000</td>\n      <td>208.000000</td>\n    </tr>\n    <tr>\n      <th>50%</th>\n      <td>3.000000</td>\n      <td>6.000000</td>\n      <td>12.100000</td>\n      <td>8.700000</td>\n      <td>10.600000</td>\n      <td>27.000000</td>\n      <td>246.000000</td>\n    </tr>\n    <tr>\n      <th>75%</th>\n      <td>3.700000</td>\n      <td>6.000000</td>\n      <td>14.600000</td>\n      <td>10.200000</td>\n      <td>12.600000</td>\n      <td>32.000000</td>\n      <td>288.000000</td>\n    </tr>\n    <tr>\n      <th>max</th>\n      <td>8.400000</td>\n      <td>16.000000</td>\n      <td>30.600000</td>\n      <td>20.600000</td>\n      <td>26.100000</td>\n      <td>69.000000</td>\n      <td>522.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"       Engine Size(L)    Cylinders  Fuel Consumption City (L/100 km)  \\\ncount     7385.000000  7385.000000                       7385.000000   \nmean         3.160068     5.615030                         12.556534   \nstd          1.354170     1.828307                          3.500274   \nmin          0.900000     3.000000                          4.200000   \n25%          2.000000     4.000000                         10.100000   \n50%          3.000000     6.000000                         12.100000   \n75%          3.700000     6.000000                         14.600000   \nmax          8.400000    16.000000                         30.600000   \n\n       Fuel Consumption Hwy (L/100 km)  Fuel Consumption Comb (L/100 km)  \\\ncount                      7385.000000                       7385.000000   \nmean                          9.041706                         10.975071   \nstd                           2.224456                          2.892506   \nmin                           4.000000                          4.100000   \n25%                           7.500000                          8.900000   \n50%                           8.700000                         10.600000   \n75%                          10.200000                         12.600000   \nmax                          20.600000                         26.100000   \n\n       Fuel Consumption Comb (mpg)  CO2 Emissions(g/km)  \ncount                  7385.000000          7385.000000  \nmean                     27.481652           250.584699  \nstd                       7.231879            58.512679  \nmin                      11.000000            96.000000  \n25%                      22.000000           208.000000  \n50%                      27.000000           246.000000  \n75%                      32.000000           288.000000  \nmax                      69.000000           522.000000  "},"exec_count":11,"output_type":"execute_result"}},"pos":7,"type":"cell"}
{"cell_type":"code","exec_count":12,"id":"324850","input":"df.isnull().sum()","output":{"0":{"data":{"text/plain":"Make                                0\nModel                               0\nVehicle Class                       0\nEngine Size(L)                      0\nCylinders                           0\nTransmission                        0\nFuel Type                           0\nFuel Consumption City (L/100 km)    0\nFuel Consumption Hwy (L/100 km)     0\nFuel Consumption Comb (L/100 km)    0\nFuel Consumption Comb (mpg)         0\nCO2 Emissions(g/km)                 0\ndtype: int64"},"exec_count":12,"output_type":"execute_result"}},"pos":10,"type":"cell"}
{"cell_type":"code","exec_count":13,"id":"b07db1","input":"len(df)","output":{"0":{"data":{"text/plain":"7385"},"exec_count":13,"output_type":"execute_result"}},"pos":11,"type":"cell"}
{"cell_type":"code","exec_count":14,"id":"d6db6a","input":"drop_columns = ['Transmission' , 'Fuel Consumption City (L/100 km)' , 'Fuel Consumption Hwy (L/100 km)' , 'Fuel Consumption Comb (L/100 km)']","pos":12,"type":"cell"}
{"cell_type":"code","exec_count":16,"id":"113670","input":"df.drop(drop_columns, axis=1, inplace = True)","pos":13,"type":"cell"}
{"cell_type":"code","exec_count":18,"id":"26fca2","input":"fig = px.scatter(df, x=\"Vehicle Class\", y=\"CO2 Emissions(g/km)\", color=\"Fuel Type\", size=  'Engine Size(L)', title='CO2 Emissions by Vehicle')\nfig.show()\n# The graph shows how many carbon dioxide emissions are released by different vehicle types, wich fuel types were used, and the engine size used in the vehicle. Size of the engine are represented by the size of the dots.\n# Two seater cars with premium gasoline tend to produce the highest amounts of CO2 emissions\n# Diesel produces less carbon dioxide emissions\n","output":{"0":{"data":{"iframe":"9ccd40839b1b09ce29193ed005fa70c19c80536d"},"exec_count":18,"output_type":"execute_result"}},"pos":17,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":2,"id":"218c58","input":"import pandas as pd\nimport plotly.express as px\nimport numpy as np\nfrom matplotlib import pyplot as plt","pos":28,"type":"cell"}
{"cell_type":"code","exec_count":21,"id":"63e33c","input":"df.head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Make</th>\n      <th>Model</th>\n      <th>Vehicle Class</th>\n      <th>Engine Size(L)</th>\n      <th>Cylinders</th>\n      <th>Fuel Type</th>\n      <th>Fuel Consumption Comb (mpg)</th>\n      <th>CO2 Emissions(g/km)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>ACURA</td>\n      <td>ILX</td>\n      <td>COMPACT</td>\n      <td>2.0</td>\n      <td>4</td>\n      <td>Z</td>\n      <td>33</td>\n      <td>196</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>ACURA</td>\n      <td>ILX</td>\n      <td>COMPACT</td>\n      <td>2.4</td>\n      <td>4</td>\n      <td>Z</td>\n      <td>29</td>\n      <td>221</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>ACURA</td>\n      <td>ILX HYBRID</td>\n      <td>COMPACT</td>\n      <td>1.5</td>\n      <td>4</td>\n      <td>Z</td>\n      <td>48</td>\n      <td>136</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>ACURA</td>\n      <td>MDX 4WD</td>\n      <td>SUV - SMALL</td>\n      <td>3.5</td>\n      <td>6</td>\n      <td>Z</td>\n      <td>25</td>\n      <td>255</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>ACURA</td>\n      <td>RDX AWD</td>\n      <td>SUV - SMALL</td>\n      <td>3.5</td>\n      <td>6</td>\n      <td>Z</td>\n      <td>27</td>\n      <td>244</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"    Make       Model Vehicle Class  Engine Size(L)  Cylinders Fuel Type  \\\n0  ACURA         ILX       COMPACT             2.0          4         Z   \n1  ACURA         ILX       COMPACT             2.4          4         Z   \n2  ACURA  ILX HYBRID       COMPACT             1.5          4         Z   \n3  ACURA     MDX 4WD   SUV - SMALL             3.5          6         Z   \n4  ACURA     RDX AWD   SUV - SMALL             3.5          6         Z   \n\n   Fuel Consumption Comb (mpg)  CO2 Emissions(g/km)  \n0                           33                  196  \n1                           29                  221  \n2                           48                  136  \n3                           25                  255  \n4                           27                  244  "},"exec_count":21,"output_type":"execute_result"}},"pos":14,"type":"cell"}
{"cell_type":"code","exec_count":22,"id":"11dfac","input":"fig2 = px.scatter_matrix(df)\nfig2.show()","output":{"0":{"data":{"iframe":"cfa299ef2216fc06af86be070bd0471e2241da3c"},"exec_count":22,"output_type":"execute_result"}},"pos":18,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":3,"id":"b28342","input":"df = pd.read_csv('CO2 Emissions_Canada.csv')","pos":29,"type":"cell"}
{"cell_type":"code","exec_count":39,"id":"b38dd7","input":"df[df[\"Fuel Type\"] == \"ethanol\"].head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Make</th>\n      <th>Model</th>\n      <th>Vehicle Class</th>\n      <th>Engine Size(L)</th>\n      <th>Cylinders</th>\n      <th>Fuel Type</th>\n      <th>Fuel Consumption Comb (mpg)</th>\n      <th>CO2 Emissions(g/km)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>145</th>\n      <td>BUICK</td>\n      <td>LACROSSE</td>\n      <td>MID-SIZE</td>\n      <td>3.6</td>\n      <td>6</td>\n      <td>ethanol</td>\n      <td>18</td>\n      <td>250</td>\n    </tr>\n    <tr>\n      <th>147</th>\n      <td>BUICK</td>\n      <td>LACROSSE AWD</td>\n      <td>MID-SIZE</td>\n      <td>3.6</td>\n      <td>6</td>\n      <td>ethanol</td>\n      <td>17</td>\n      <td>264</td>\n    </tr>\n    <tr>\n      <th>180</th>\n      <td>CADILLAC</td>\n      <td>ESCALADE AWD</td>\n      <td>SUV - STANDARD</td>\n      <td>6.2</td>\n      <td>8</td>\n      <td>ethanol</td>\n      <td>14</td>\n      <td>322</td>\n    </tr>\n    <tr>\n      <th>182</th>\n      <td>CADILLAC</td>\n      <td>ESCALADE ESV AWD</td>\n      <td>SUV - STANDARD</td>\n      <td>6.2</td>\n      <td>8</td>\n      <td>ethanol</td>\n      <td>13</td>\n      <td>354</td>\n    </tr>\n    <tr>\n      <th>206</th>\n      <td>CHEVROLET</td>\n      <td>EQUINOX</td>\n      <td>SUV - SMALL</td>\n      <td>3.6</td>\n      <td>6</td>\n      <td>ethanol</td>\n      <td>17</td>\n      <td>259</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"          Make             Model   Vehicle Class  Engine Size(L)  Cylinders  \\\n145      BUICK          LACROSSE        MID-SIZE             3.6          6   \n147      BUICK      LACROSSE AWD        MID-SIZE             3.6          6   \n180   CADILLAC      ESCALADE AWD  SUV - STANDARD             6.2          8   \n182   CADILLAC  ESCALADE ESV AWD  SUV - STANDARD             6.2          8   \n206  CHEVROLET           EQUINOX     SUV - SMALL             3.6          6   \n\n    Fuel Type  Fuel Consumption Comb (mpg)  CO2 Emissions(g/km)  \n145   ethanol                           18                  250  \n147   ethanol                           17                  264  \n180   ethanol                           14                  322  \n182   ethanol                           13                  354  \n206   ethanol                           17                  259  "},"exec_count":39,"output_type":"execute_result"}},"pos":20,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":4,"id":"5528e0","input":"# skeleton code\n\n# parameter saved in a dictionary\nPARAMETER = { PARAMETER1 : [],\n              PARAMETER2 : [],\n              PARAMETER3 : []}\n# implement grid search cv\ngs = GridSearchCV(MODEL, PARAMETER)\n# fit the models\ngs_res = gs.fit(x_train, y_train)\n# print out the best parameters\nprint(gs_res.best_params_)\n\n# example\ngrid_params_knn = { 'n_neighbors' : [50, 100, 150, 200, 250, 300],\n                    'weights' : ['uniform','distance'],\n                    'metric' : ['minkowski','euclidean','manhattan']}\ngs_knn = GridSearchCV(KNeighborsClassifier(), grid_params_knn)\ngs_knn_res = gs_knn.fit(x_train, y_train)\nprint(gs_knn_res.best_params_)","output":{"0":{"ename":"NameError","evalue":"name 'PARAMETER1' is not defined","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","Input \u001b[0;32mIn [4]\u001b[0m, in \u001b[0;36m<cell line: 4>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[38;5;66;03m# skeleton code\u001b[39;00m\n\u001b[1;32m      2\u001b[0m \n\u001b[1;32m      3\u001b[0m \u001b[38;5;66;03m# parameter saved in a dictionary\u001b[39;00m\n\u001b[0;32m----> 4\u001b[0m PARAMETER \u001b[38;5;241m=\u001b[39m { \u001b[43mPARAMETER1\u001b[49m : [],\n\u001b[1;32m      5\u001b[0m               PARAMETER2 : [],\n\u001b[1;32m      6\u001b[0m               PARAMETER3 : []}\n\u001b[1;32m      7\u001b[0m \u001b[38;5;66;03m# implement grid search cv\u001b[39;00m\n\u001b[1;32m      8\u001b[0m gs \u001b[38;5;241m=\u001b[39m GridSearchCV(MODEL, PARAMETER)\n","\u001b[0;31mNameError\u001b[0m: name 'PARAMETER1' is not defined"]}},"pos":30,"type":"cell"}
{"cell_type":"code","exec_count":41,"id":"9a7250","input":"df.replace(to_replace= 'Z', value= 'Premium gasoline', inplace = True)\ndf.replace(to_replace= 'X', value= 'Gasoline' , inplace= True)\ndf.replace(to_replace= 'D', value= 'Diesel' , inplace= True)\ndf.replace(to_replace= 'E', value= 'Ethanol' , inplace= True)\ndf.replace(to_replace= 'N', value= 'Natural gas' , inplace= True)","pos":19,"type":"cell"}
{"cell_type":"code","exec_count":49,"id":"54ffbf","input":"#Ameya \n#The graph shows how many carbon dioxide emissions are released by different vehicle types, wich fuel types were used, and the engine size used in the vehicle. Size of the engine are represented by the size of the dots.\n# Two seater cars with premium gasoline tend to produce the highest amounts of CO2 emissions\n# Diesel produces less carbon dioxide emissions than gasoline which is not what I expected\n\ndf.replace(to_replace= 'Z', value= 'Premium gasoline', inplace = True)\ndf.replace(to_replace= 'X', value= 'Gasoline' , inplace= True)\ndf.replace(to_replace= 'D', value= 'Diesel' , inplace= True)\ndf.replace(to_replace= 'E', value= 'Ethanol' , inplace= True)\ndf.replace(to_replace= 'N', value= 'Natural gas' , inplace= True)\n\nfig = px.scatter(df, x=\"Vehicle Class\", y=\"CO2 Emissions(g/km)\", color=\"Fuel Type\", size=  'Engine Size(L)', title='CO2 Emissions by Vehicle')\nfig.show()","output":{"0":{"data":{"iframe":"f0d999743b96a924d8aa521a2d2fa687681d91e0"},"exec_count":49,"output_type":"execute_result"}},"pos":21,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":5,"id":"7e3467","input":"#Ameya Randomn Forest\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.model_selection import train_test_split\n\ncol_category = ['Make', 'Model', 'Vehicle Class', 'Transmission', 'Fuel Type']\nfor col in col_category:\n    df = pd.concat([df.drop(col, axis=1), pd.get_dummies(df[col], prefix=col, prefix_sep='_')], axis=1)\n\ninput_columns = df.loc[:, df.columns != \"CO2 Emissions(g/km)\"]\ntarget = df[[\"CO2 Emissions(g/km)\"]]\nx_train, x_test, y_train, y_test = train_test_split(input_columns, target, test_size=0.2)\n","pos":31,"type":"cell"}
{"cell_type":"code","exec_count":50,"id":"abf590","input":"#Ameya\ndf[df [\"CO2 Emissions(g/km)\"] <=100]\n#Shows all cars that emmit less than 100g/km of CO2","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Make</th>\n      <th>Model</th>\n      <th>Vehicle Class</th>\n      <th>Engine Size(L)</th>\n      <th>Cylinders</th>\n      <th>Fuel Type</th>\n      <th>Fuel Consumption Comb (mpg)</th>\n      <th>CO2 Emissions(g/km)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>3824</th>\n      <td>HYUNDAI</td>\n      <td>IONIQ BLUE</td>\n      <td>FULL-SIZE</td>\n      <td>1.6</td>\n      <td>4</td>\n      <td>gasoline</td>\n      <td>69</td>\n      <td>96</td>\n    </tr>\n    <tr>\n      <th>4900</th>\n      <td>HYUNDAI</td>\n      <td>IONIQ BLUE</td>\n      <td>FULL-SIZE</td>\n      <td>1.6</td>\n      <td>4</td>\n      <td>gasoline</td>\n      <td>69</td>\n      <td>96</td>\n    </tr>\n    <tr>\n      <th>5931</th>\n      <td>HYUNDAI</td>\n      <td>IONIQ Blue</td>\n      <td>FULL-SIZE</td>\n      <td>1.6</td>\n      <td>4</td>\n      <td>gasoline</td>\n      <td>69</td>\n      <td>96</td>\n    </tr>\n    <tr>\n      <th>6949</th>\n      <td>HYUNDAI</td>\n      <td>IONIQ</td>\n      <td>FULL-SIZE</td>\n      <td>1.6</td>\n      <td>4</td>\n      <td>gasoline</td>\n      <td>67</td>\n      <td>99</td>\n    </tr>\n    <tr>\n      <th>6950</th>\n      <td>HYUNDAI</td>\n      <td>IONIQ Blue</td>\n      <td>FULL-SIZE</td>\n      <td>1.6</td>\n      <td>4</td>\n      <td>gasoline</td>\n      <td>69</td>\n      <td>96</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"         Make       Model Vehicle Class  Engine Size(L)  Cylinders Fuel Type  \\\n3824  HYUNDAI  IONIQ BLUE     FULL-SIZE             1.6          4  gasoline   \n4900  HYUNDAI  IONIQ BLUE     FULL-SIZE             1.6          4  gasoline   \n5931  HYUNDAI  IONIQ Blue     FULL-SIZE             1.6          4  gasoline   \n6949  HYUNDAI       IONIQ     FULL-SIZE             1.6          4  gasoline   \n6950  HYUNDAI  IONIQ Blue     FULL-SIZE             1.6          4  gasoline   \n\n      Fuel Consumption Comb (mpg)  CO2 Emissions(g/km)  \n3824                           69                   96  \n4900                           69                   96  \n5931                           69                   96  \n6949                           67                   99  \n6950                           69                   96  "},"exec_count":50,"output_type":"execute_result"}},"pos":25,"type":"cell"}
{"cell_type":"code","exec_count":51,"id":"e280aa","input":"#Ameya\n#Shows all the cars that emmit more than 500g/km if CO2\ndf[df [\"CO2 Emissions(g/km)\"] >=500]","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Make</th>\n      <th>Model</th>\n      <th>Vehicle Class</th>\n      <th>Engine Size(L)</th>\n      <th>Cylinders</th>\n      <th>Fuel Type</th>\n      <th>Fuel Consumption Comb (mpg)</th>\n      <th>CO2 Emissions(g/km)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>4509</th>\n      <td>BUGATTI</td>\n      <td>CHIRON</td>\n      <td>TWO-SEATER</td>\n      <td>8.0</td>\n      <td>16</td>\n      <td>Premium gasoline</td>\n      <td>13</td>\n      <td>522</td>\n    </tr>\n    <tr>\n      <th>5575</th>\n      <td>BUGATTI</td>\n      <td>Chiron</td>\n      <td>TWO-SEATER</td>\n      <td>8.0</td>\n      <td>16</td>\n      <td>Premium gasoline</td>\n      <td>13</td>\n      <td>522</td>\n    </tr>\n    <tr>\n      <th>6640</th>\n      <td>BUGATTI</td>\n      <td>Chiron</td>\n      <td>TWO-SEATER</td>\n      <td>8.0</td>\n      <td>16</td>\n      <td>Premium gasoline</td>\n      <td>13</td>\n      <td>522</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"         Make   Model Vehicle Class  Engine Size(L)  Cylinders  \\\n4509  BUGATTI  CHIRON    TWO-SEATER             8.0         16   \n5575  BUGATTI  Chiron    TWO-SEATER             8.0         16   \n6640  BUGATTI  Chiron    TWO-SEATER             8.0         16   \n\n             Fuel Type  Fuel Consumption Comb (mpg)  CO2 Emissions(g/km)  \n4509  Premium gasoline                           13                  522  \n5575  Premium gasoline                           13                  522  \n6640  Premium gasoline                           13                  522  "},"exec_count":51,"output_type":"execute_result"}},"pos":26,"type":"cell"}
{"cell_type":"code","exec_count":52,"id":"c264a3","input":"#Ameya\n#Replaces X,Y,Z,D,N with Gasoline types\ndf.replace(to_replace= 'Z', value= 'Premium gasoline', inplace = True)\ndf.replace(to_replace= 'X', value= 'Gasoline' , inplace= True)\ndf.replace(to_replace= 'D', value= 'Diesel' , inplace= True)\ndf.replace(to_replace= 'E', value= 'Ethanol' , inplace= True)\ndf.replace(to_replace= 'N', value= 'Natural gas' , inplace= True)","pos":27,"type":"cell"}
{"cell_type":"code","exec_count":6,"id":"2eda01","input":"import pandas as pd\nimport plotly.express as px","pos":1,"type":"cell"}
{"cell_type":"code","exec_count":6,"id":"ded283","input":"#https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html\n\nrf = RandomForestRegressor()\nrf.fit(x_train, y_train)\ny_hat_rf = rf.predict(x_test)\n\nrf.score(x_test, y_test)\n\ntotal_squared_error = (np.sum((y_test - y_hat_rf)**2)) #get the sum of all the errors (error = what we want (y_test) - what we predicted (y_hat))\nmean_squared_error = total_squared_error/len(y_test) #divide this by how many rows/observations we have \nprint(mean_squared_error)\n# basically just that https://scikit-learn.org/stable/modules/generated/sklearn.tree.plot_tree.html\n# this is whats on sklearn page\n# i actually never graph random forest before so im not sure\n# but this is the code for decision tree, i will check whether we can use it for random forest\n#tree_model = tree.DecisionTreeClassifier(max_depth = 4)\n#tree_model.fit(x_train, y_train)\n#fig = plt.figure(figsize=(25,20))\n#tree_plot = tree.plot_tree(tree_model, feature_names=input_columns.columns, filled=True, fontsize=10)\n#tree_plot\n# i found this article: https://towardsdatascience.com/how-to-visualize-a-decision-tree-from-a-random-forest-in-python-using-scikit-learn-38ad2d75f21c\n\n\nfrom sklearn.tree import export_graphviz\n\nexport_graphviz(out_file='tree.dot', \n                feature_names = iris.feature_names,\n                class_names = iris.target_names,\n                rounded = True, proportion = False, \n                precision = 2, filled = True)\n\n# Convert to png using system command \nfrom subprocess import call\ncall(['dot', '-Tpng', 'tree.dot', '-o', 'tree.png', '-Gdpi=600'])\n\n# Display in jupyter notebook\nfrom IPython.display import Image\nImage(filename = 'tree.png')","output":{"0":{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_2073/3716348369.py:4: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples,), for example using ravel().\n  rf.fit(x_train, y_train)\n"},"1":{"ename":"ValueError","evalue":"Unable to coerce to Series, length must be 1: given 1477","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","Input \u001b[0;32mIn [6]\u001b[0m, in \u001b[0;36m<cell line: 9>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      5\u001b[0m y_hat_rf \u001b[38;5;241m=\u001b[39m rf\u001b[38;5;241m.\u001b[39mpredict(x_test)\n\u001b[1;32m      7\u001b[0m rf\u001b[38;5;241m.\u001b[39mscore(x_test, y_test)\n\u001b[0;32m----> 9\u001b[0m total_squared_error \u001b[38;5;241m=\u001b[39m (np\u001b[38;5;241m.\u001b[39msum((\u001b[43my_test\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;241;43m-\u001b[39;49m\u001b[43m \u001b[49m\u001b[43my_hat_rf\u001b[49m)\u001b[38;5;241m*\u001b[39m\u001b[38;5;241m*\u001b[39m\u001b[38;5;241m2\u001b[39m)) \u001b[38;5;66;03m#get the sum of all the errors (error = what we want (y_test) - what we predicted (y_hat))\u001b[39;00m\n\u001b[1;32m     10\u001b[0m mean_squared_error \u001b[38;5;241m=\u001b[39m total_squared_error\u001b[38;5;241m/\u001b[39m\u001b[38;5;28mlen\u001b[39m(y_test) \u001b[38;5;66;03m#divide this by how many rows/observations we have \u001b[39;00m\n\u001b[1;32m     11\u001b[0m \u001b[38;5;28mprint\u001b[39m(mean_squared_error)\n","File \u001b[0;32m~/miniconda3/lib/python3.9/site-packages/pandas/core/ops/common.py:70\u001b[0m, in \u001b[0;36m_unpack_zerodim_and_defer.<locals>.new_method\u001b[0;34m(self, other)\u001b[0m\n\u001b[1;32m     66\u001b[0m             \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28mNotImplemented\u001b[39m\n\u001b[1;32m     68\u001b[0m other \u001b[38;5;241m=\u001b[39m item_from_zerodim(other)\n\u001b[0;32m---> 70\u001b[0m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mmethod\u001b[49m\u001b[43m(\u001b[49m\u001b[38;5;28;43mself\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mother\u001b[49m\u001b[43m)\u001b[49m\n","File \u001b[0;32m~/miniconda3/lib/python3.9/site-packages/pandas/core/arraylike.py:108\u001b[0m, in \u001b[0;36mOpsMixin.__sub__\u001b[0;34m(self, other)\u001b[0m\n\u001b[1;32m    106\u001b[0m \u001b[38;5;129m@unpack_zerodim_and_defer\u001b[39m(\u001b[38;5;124m\"\u001b[39m\u001b[38;5;124m__sub__\u001b[39m\u001b[38;5;124m\"\u001b[39m)\n\u001b[1;32m    107\u001b[0m \u001b[38;5;28;01mdef\u001b[39;00m \u001b[38;5;21m__sub__\u001b[39m(\u001b[38;5;28mself\u001b[39m, other):\n\u001b[0;32m--> 108\u001b[0m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43m_arith_method\u001b[49m\u001b[43m(\u001b[49m\u001b[43mother\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43moperator\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43msub\u001b[49m\u001b[43m)\u001b[49m\n","File \u001b[0;32m~/miniconda3/lib/python3.9/site-packages/pandas/core/frame.py:6950\u001b[0m, in \u001b[0;36mDataFrame._arith_method\u001b[0;34m(self, other, op)\u001b[0m\n\u001b[1;32m   6947\u001b[0m axis \u001b[38;5;241m=\u001b[39m \u001b[38;5;241m1\u001b[39m  \u001b[38;5;66;03m# only relevant for Series other case\u001b[39;00m\n\u001b[1;32m   6948\u001b[0m other \u001b[38;5;241m=\u001b[39m ops\u001b[38;5;241m.\u001b[39mmaybe_prepare_scalar_for_op(other, (\u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mshape[axis],))\n\u001b[0;32m-> 6950\u001b[0m \u001b[38;5;28mself\u001b[39m, other \u001b[38;5;241m=\u001b[39m \u001b[43mops\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43malign_method_FRAME\u001b[49m\u001b[43m(\u001b[49m\u001b[38;5;28;43mself\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mother\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43maxis\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mflex\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[38;5;28;43;01mTrue\u001b[39;49;00m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mlevel\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[38;5;28;43;01mNone\u001b[39;49;00m\u001b[43m)\u001b[49m\n\u001b[1;32m   6952\u001b[0m new_data \u001b[38;5;241m=\u001b[39m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39m_dispatch_frame_op(other, op, axis\u001b[38;5;241m=\u001b[39maxis)\n\u001b[1;32m   6953\u001b[0m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39m_construct_result(new_data)\n","File \u001b[0;32m~/miniconda3/lib/python3.9/site-packages/pandas/core/ops/__init__.py:248\u001b[0m, in \u001b[0;36malign_method_FRAME\u001b[0;34m(left, right, axis, flex, level)\u001b[0m\n\u001b[1;32m    245\u001b[0m \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;28misinstance\u001b[39m(right, np\u001b[38;5;241m.\u001b[39mndarray):\n\u001b[1;32m    247\u001b[0m     \u001b[38;5;28;01mif\u001b[39;00m right\u001b[38;5;241m.\u001b[39mndim \u001b[38;5;241m==\u001b[39m \u001b[38;5;241m1\u001b[39m:\n\u001b[0;32m--> 248\u001b[0m         right \u001b[38;5;241m=\u001b[39m \u001b[43mto_series\u001b[49m\u001b[43m(\u001b[49m\u001b[43mright\u001b[49m\u001b[43m)\u001b[49m\n\u001b[1;32m    250\u001b[0m     \u001b[38;5;28;01melif\u001b[39;00m right\u001b[38;5;241m.\u001b[39mndim \u001b[38;5;241m==\u001b[39m \u001b[38;5;241m2\u001b[39m:\n\u001b[1;32m    251\u001b[0m         \u001b[38;5;28;01mif\u001b[39;00m right\u001b[38;5;241m.\u001b[39mshape \u001b[38;5;241m==\u001b[39m left\u001b[38;5;241m.\u001b[39mshape:\n","File \u001b[0;32m~/miniconda3/lib/python3.9/site-packages/pandas/core/ops/__init__.py:239\u001b[0m, in \u001b[0;36malign_method_FRAME.<locals>.to_series\u001b[0;34m(right)\u001b[0m\n\u001b[1;32m    237\u001b[0m \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[1;32m    238\u001b[0m     \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;28mlen\u001b[39m(left\u001b[38;5;241m.\u001b[39mcolumns) \u001b[38;5;241m!=\u001b[39m \u001b[38;5;28mlen\u001b[39m(right):\n\u001b[0;32m--> 239\u001b[0m         \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mValueError\u001b[39;00m(\n\u001b[1;32m    240\u001b[0m             msg\u001b[38;5;241m.\u001b[39mformat(req_len\u001b[38;5;241m=\u001b[39m\u001b[38;5;28mlen\u001b[39m(left\u001b[38;5;241m.\u001b[39mcolumns), given_len\u001b[38;5;241m=\u001b[39m\u001b[38;5;28mlen\u001b[39m(right))\n\u001b[1;32m    241\u001b[0m         )\n\u001b[1;32m    242\u001b[0m     right \u001b[38;5;241m=\u001b[39m left\u001b[38;5;241m.\u001b[39m_constructor_sliced(right, index\u001b[38;5;241m=\u001b[39mleft\u001b[38;5;241m.\u001b[39mcolumns)\n\u001b[1;32m    243\u001b[0m \u001b[38;5;28;01mreturn\u001b[39;00m right\n","\u001b[0;31mValueError\u001b[0m: Unable to coerce to Series, length must be 1: given 1477"]}},"pos":32,"type":"cell"}
{"cell_type":"code","exec_count":7,"id":"80e38d","input":"# Load dataset hint: pd.read_csv()\ndf= pd.read_csv('CO2 Emissions_Canada.csv')","pos":4,"type":"cell"}
{"cell_type":"code","exec_count":7,"id":"9212d3","input":"# :0 it seems like our data points are linear? yeah! so thats probably why we have high score. linear regression or other linear model might work well we can see other people's result great job ameya : D\n# yea i dont think random forest is the best for our scenario\n# yea \n\nplt.scatter(y_test,y_hat, s=0.1, c='red')\nplt.xlabel('CO2 emission', fontsize = 30)\nplt.ylabel('Estimate', fontsize = 30)\nplt.grid('on')\nplt.plot([100,800], [100,800])\nplt.show()","output":{"0":{"ename":"NameError","evalue":"name 'y_hat' is not defined","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","Input \u001b[0;32mIn [7]\u001b[0m, in \u001b[0;36m<cell line: 5>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[38;5;66;03m# :0 it seems like our data points are linear? yeah! so thats probably why we have high score. linear regression or other linear model might work well we can see other people's result great job ameya : D\u001b[39;00m\n\u001b[1;32m      2\u001b[0m \u001b[38;5;66;03m# yea i dont think random forest is the best for our scenario\u001b[39;00m\n\u001b[1;32m      3\u001b[0m \u001b[38;5;66;03m# yea \u001b[39;00m\n\u001b[0;32m----> 5\u001b[0m plt\u001b[38;5;241m.\u001b[39mscatter(y_test,\u001b[43my_hat\u001b[49m, s\u001b[38;5;241m=\u001b[39m\u001b[38;5;241m0.1\u001b[39m, c\u001b[38;5;241m=\u001b[39m\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mred\u001b[39m\u001b[38;5;124m'\u001b[39m)\n\u001b[1;32m      6\u001b[0m plt\u001b[38;5;241m.\u001b[39mxlabel(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mCO2 emission\u001b[39m\u001b[38;5;124m'\u001b[39m, fontsize \u001b[38;5;241m=\u001b[39m \u001b[38;5;241m30\u001b[39m)\n\u001b[1;32m      7\u001b[0m plt\u001b[38;5;241m.\u001b[39mylabel(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mEstimate\u001b[39m\u001b[38;5;124m'\u001b[39m, fontsize \u001b[38;5;241m=\u001b[39m \u001b[38;5;241m30\u001b[39m)\n","\u001b[0;31mNameError\u001b[0m: name 'y_hat' is not defined"]}},"pos":33,"type":"cell"}
{"cell_type":"code","exec_count":8,"id":"dcb2f1","input":"df.head()\n","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Make</th>\n      <th>Model</th>\n      <th>Vehicle Class</th>\n      <th>Engine Size(L)</th>\n      <th>Cylinders</th>\n      <th>Transmission</th>\n      <th>Fuel Type</th>\n      <th>Fuel Consumption City (L/100 km)</th>\n      <th>Fuel Consumption Hwy (L/100 km)</th>\n      <th>Fuel Consumption Comb (L/100 km)</th>\n      <th>Fuel Consumption Comb (mpg)</th>\n      <th>CO2 Emissions(g/km)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>ACURA</td>\n      <td>ILX</td>\n      <td>COMPACT</td>\n      <td>2.0</td>\n      <td>4</td>\n      <td>AS5</td>\n      <td>Z</td>\n      <td>9.9</td>\n      <td>6.7</td>\n      <td>8.5</td>\n      <td>33</td>\n      <td>196</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>ACURA</td>\n      <td>ILX</td>\n      <td>COMPACT</td>\n      <td>2.4</td>\n      <td>4</td>\n      <td>M6</td>\n      <td>Z</td>\n      <td>11.2</td>\n      <td>7.7</td>\n      <td>9.6</td>\n      <td>29</td>\n      <td>221</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>ACURA</td>\n      <td>ILX HYBRID</td>\n      <td>COMPACT</td>\n      <td>1.5</td>\n      <td>4</td>\n      <td>AV7</td>\n      <td>Z</td>\n      <td>6.0</td>\n      <td>5.8</td>\n      <td>5.9</td>\n      <td>48</td>\n      <td>136</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>ACURA</td>\n      <td>MDX 4WD</td>\n      <td>SUV - SMALL</td>\n      <td>3.5</td>\n      <td>6</td>\n      <td>AS6</td>\n      <td>Z</td>\n      <td>12.7</td>\n      <td>9.1</td>\n      <td>11.1</td>\n      <td>25</td>\n      <td>255</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>ACURA</td>\n      <td>RDX AWD</td>\n      <td>SUV - SMALL</td>\n      <td>3.5</td>\n      <td>6</td>\n      <td>AS6</td>\n      <td>Z</td>\n      <td>12.1</td>\n      <td>8.7</td>\n      <td>10.6</td>\n      <td>27</td>\n      <td>244</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"    Make       Model Vehicle Class  Engine Size(L)  Cylinders Transmission  \\\n0  ACURA         ILX       COMPACT             2.0          4          AS5   \n1  ACURA         ILX       COMPACT             2.4          4           M6   \n2  ACURA  ILX HYBRID       COMPACT             1.5          4          AV7   \n3  ACURA     MDX 4WD   SUV - SMALL             3.5          6          AS6   \n4  ACURA     RDX AWD   SUV - SMALL             3.5          6          AS6   \n\n  Fuel Type  Fuel Consumption City (L/100 km)  \\\n0         Z                               9.9   \n1         Z                              11.2   \n2         Z                               6.0   \n3         Z                              12.7   \n4         Z                              12.1   \n\n   Fuel Consumption Hwy (L/100 km)  Fuel Consumption Comb (L/100 km)  \\\n0                              6.7                               8.5   \n1                              7.7                               9.6   \n2                              5.8                               5.9   \n3                              9.1                              11.1   \n4                              8.7                              10.6   \n\n   Fuel Consumption Comb (mpg)  CO2 Emissions(g/km)  \n0                           33                  196  \n1                           29                  221  \n2                           48                  136  \n3                           25                  255  \n4                           27                  244  "},"exec_count":8,"output_type":"execute_result"}},"pos":6,"type":"cell"}
{"cell_type":"markdown","id":"0d5bc5","input":"### Data Cleaning","pos":22,"type":"cell"}
{"cell_type":"markdown","id":"5e305a","input":"### Import Packages\n\n","pos":0,"type":"cell"}
{"cell_type":"markdown","id":"639798","input":"### Exploratory Data Analysis","pos":15,"type":"cell"}
{"cell_type":"markdown","id":"9661ac","input":"### Data Overview\n\n","pos":2,"type":"cell"}
{"cell_type":"markdown","id":"9b04ae","input":"Data source: [https://www.kaggle.com/datasets/debajyotipodder/co2\\-emission\\-by\\-vehicles](https://www.kaggle.com/datasets/debajyotipodder/co2-emission-by-vehicles)\n\n","pos":3,"type":"cell"}
{"id":0,"time":1659373531570,"type":"user"}
{"last_load":1659373530875,"type":"file"}